import { Meta, Story, Canvas, ArgsTable } from '@storybook/blocks'
import { RenderHtmlMarkup } from '../../storybook/render-html-markup'
import { PersistentNotification } from './index'
import * as PersistentNotificationStories from './persistent-notification.stories'

<Meta of={PersistentNotificationStories} />

# PersistentNotification

A notification component to render helpers inline.

<ArgsTable of={PersistentNotification} />

## Full React example using `useState` and the default CSS position: fixed

The element uses CSS position fixed by default, which means the component "floats" on top of all other content. This example can be seen in the top right corner of the screen. Only one PersistentNotification per page is supported.

<Canvas>
  <Story of={PersistentNotificationStories.FullReactExampleFixedPosition} />
</Canvas>

## Inline examples

These stories do not have the `isFixed` property and instead have `isInline` meaning they are positioned relative and sit inline.

This makes it easier to preview these examples, but if the isFixed property is set they will pin to the top right of the screen as in the above example.

## Default usage Inline

<Canvas>
  <Story of={PersistentNotificationStories.DefaultUsageInline} />
</Canvas>

<RenderHtmlMarkup component="PersistentNotification" story="Default Usage Inline" />

## With a different icon

<Canvas>
  <Story of={PersistentNotificationStories.WithADifferentIcon} />
</Canvas>

<RenderHtmlMarkup component="PersistentNotification" story="With a different icon" />

## Inline helpers, full width with different intents

Typically when you are not displaying the notification with an `isFixed` prop / helper, you are showing an inline helper ie in the main body flow. In this instance, you should apply an `isInline` prop or the corresponding css class in the rendered markup, to give a softer tone to the notification.

When using the notifiction inline, you may also wish to add the `isFullWidth` prop / helper class to make the notification span the width of it's content.

Below you can see examples of inline helpers, full width, in each of the different intent shades.

<Canvas>
  <Story of={PersistentNotificationStories.InlineNotifcationIntentPrimary} />

{' '}

<Story of={PersistentNotificationStories.InlineNotifcationIntentNeutral} />

{' '}

<Story of={PersistentNotificationStories.InlineNotifcationIntentSuccess} />

{' '}

<Story of={PersistentNotificationStories.InlineNotifcationIntentPending} />

{' '}

<Story of={PersistentNotificationStories.InlineNotifcationIntentWarning} />

{' '}

<Story of={PersistentNotificationStories.InlineNotifcationIntentDanger} />

  <Story of={PersistentNotificationStories.InlineNotifcationIntentDefault} />
</Canvas>

<RenderHtmlMarkup
  component="PersistentNotification"
  story={[
    'Inline notifcation, intent: primary',
    'Inline notifcation, intent: neutral',
    'Inline notifcation, intent: success',
    'Inline notifcation, intent: pending',
    'Inline notifcation, intent: warning',
    'Inline notifcation, intent: danger',
    'Inline notifcation, intent: default',
  ]}
/>

## Collapsed/Expanded state

Set the prop `isExpanded` to expand/collapse the component. In the collapsed state the whole component is moved to the right. In normal usage when the component is fixed to the right of the screen this means the content is out of view.
