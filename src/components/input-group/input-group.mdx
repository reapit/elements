import { Meta, Story, Canvas, ArgsTable } from '@storybook/blocks'
import { InputGroup } from './index'
import { Input } from '../input'
import { Icon } from '../icon'
import { Label } from '../label'
import { InputAddOn } from '../input-add-on'
import { RenderHtmlMarkup } from '../../storybook/render-html-markup'
import { InputError } from '../input-error'
import * as InputGroupStories from './input-group.stories'

<Meta of={InputGroupStories} />

# InputGroup

InputGroup provides a wrapper and styling for the `Input`, `Icon`, `Label`, and `InputAddOn` components, so that they can work nicely together.

<ArgsTable of={InputGroup} />

## Usage with HTML & CSS only

- The order of the child components matters, in order to make the focus state work (i.e. the different styling applied when you click into the component)
- The `<input>` component must come first in the DOM, before the `<label>`, and the `<span>` for the icon and InputAddOn, as is shown in the HTML docs

## Usage with React

- You can supply the child components individually (ensure the `Input` component is included as the first child). When using like this, any additional props on the `InputGroup` component are added to the underlying `div`.
- Or, there is also a shorthand for React where you can supply props. This only works if _no children_ are supplied

## Complete example, with Icon, Label, and InputAddOn

<Canvas>
  <Story of={InputGroupStories.CompleteExample} />
</Canvas>

<RenderHtmlMarkup component="InputGroup" story="Complete example" />

## With Icon only

<Canvas>
  <Story of={InputGroupStories.WithIconOnly} />
</Canvas>

<RenderHtmlMarkup component="InputGroup" story="With Icon only" />

## With Label only

<Canvas>
  <Story of={InputGroupStories.WithLabelOnly} />
</Canvas>

<RenderHtmlMarkup component="InputGroup" story="With Label only" />

## With InputAddOn only

<Canvas>
  <Story of={InputGroupStories.WithInputAddOnOnly} />
</Canvas>

<RenderHtmlMarkup component="InputGroup" story="With Input Add On Only" />

## Shorthand usage for React users

Any additional props not listed here are added to the `Input` component that is rendered as part of `InputGroup`. This way you can easily supply `onChange`, `type`, etc props to the underlying `Input`

React shorthand with `icon` and `label` props

<Canvas>
  <Story of={InputGroupStories.ReactShorthand} />
</Canvas>

## With a custom ID

<Canvas>
  <Story of={InputGroupStories.ReactShorthandCustomId} />
</Canvas>

## With `icon`, `label`, `InputAddOn` and `intent` props

<Canvas>
  <Story of={InputGroupStories.ReactShorthandAllProps} />
</Canvas>

## Checkbox

<Canvas>
  <Story of={InputGroupStories.InputCheckbox} />
  <Story of={InputGroupStories.InputCheckboxWithIntent} />
  <Story of={InputGroupStories.InputCheckboxNoIcon} />
  <Story of={InputGroupStories.InputCheckboxNoLabel} />
</Canvas>

<RenderHtmlMarkup
  component="InputGroup"
  story={['Input checkbox', 'Input checkbox with intent', 'Input checkbox no icon', 'Input checkbox no label']}
/>

## Radio

<Canvas>
  <Story of={InputGroupStories.InputRadio} />
  <Story of={InputGroupStories.InputRadioWithIntent} />
</Canvas>

<RenderHtmlMarkup component="InputGroup" story={['Input radio', 'Input radio with intent']} />
## Use with radio input and InputAddOn

The `inputAddOn` prop (and use of the `InputAddOn` component within `InputGroup` in general) _is_ supported with radio buttons, however with radio buttons the `Label` does most of the work.

`inputAddOn` can be used but won't add that much value, and it's reccomended to use just `Label` on it's own. See an example below:

<Canvas>
  <Story of={InputGroupStories.InputRadioWithInputAddOn} />
</Canvas>

## Error messages

Below are some examples of error messages with input groups. The error message prop on input group can be used for simple types such as text and email. For groups of radios or checkboxes you can use the `InputError` component instead.

<Canvas>
  <Story of={InputGroupStories.ErrorMessage} />
</Canvas>
