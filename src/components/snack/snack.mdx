import { Meta, Story, Canvas, ArgsTable } from '@storybook/blocks'
import { Snack, SnackHolder } from './snack'
import { RenderHtmlMarkup } from '../../storybook/render-html-markup'
import * as SnackStories from './snack.stories'

<Meta of={SnackStories} />

# Snack

A multi purpose notification component to inform users of updates and events within your application.

Props available for the React version of the component;

<ArgsTable of={Snack} />

## Basic Usage

The Snack component can be used for UI purposes only, but won't have the functionality of the React implementation (i.e. the timeouts, appearing at the top of the screen, etc)

<Canvas>
  <Story of={SnackStories.BasicUsage} />
</Canvas>

<RenderHtmlMarkup component="Snack" story="Basic Usage" />

## With an icon

<Canvas>
  <Story of={SnackStories.WithAnIcon} />
</Canvas>

<RenderHtmlMarkup component="Snack" story="With an icon" />

## With intents

<Canvas>
  <Story of={SnackStories.IntentPrimary} />

{' '}

<Story of={SnackStories.IntentNeutral} />

{' '}

<Story of={SnackStories.IntentSuccess} />

{' '}

<Story of={SnackStories.IntentPending} />

{' '}

<Story of={SnackStories.IntentWarning} />

{' '}

<Story of={SnackStories.IntentDanger} />

  <Story of={SnackStories.IntentDefault} />
</Canvas>

<RenderHtmlMarkup
  component="Snack"
  story={[
    'Intent: Primary',
    'Intent: Neutral',
    'Intent: Success',
    'Intent: Pending',
    'Intent: Warning',
    'Intent: Danger',
    'Intent: Default',
  ]}
/>

## SnackHolder

This component is essentially invisible. It is used automatically as part of the `<SnackProvider>` component, so if you are a React user you shouldn't need to use this component on it's own.

`SnackHolder`'s purpose is to group snacks and dispaly them in the corner of the screen above all other content.

If you are using this library without react, you may find is useful for putting `Snack`s inside of.

<ArgsTable of={SnackHolder} />

## React usage with `SnackProvider` and `useSnack` hook

A context and a hook is provided to use the Snack component out of the box called `SnackProvider`.

<Canvas>
  <Story of={SnackStories.UseSnackHookExample} />
</Canvas>

You must wrap your whole application in the `SnackProvider` component. Thereafter you can use the `useSnack` hook in any component to trigger a hook.

## `useSnack` API

Exports the following methods

- `custom`: `(snack: ISnack, timeout?: number) => void`
- `success`: `(text: string, timeout?: number) => void`
- `info`: `(text: string, timeout?: number) => void`
- `error`: `(text: string, timeout?: number) => void`
- `warning`: `(text: string, timeout?: number) => void`

#### Description of arguments

- `snack`: See below for the properties of the `SnackProps` interface
- `timeout`: Set to `0` to stop a Snack from disappearing on it's own. It would then have to be dismissed by the user instead.
- `text`: The text content that will be shown inside the snack
