import { Meta, Source, Title, Subtitle, Description, Canvas, ArgTypes } from '@storybook/blocks';
import * as Pagination from './pagination.stories';

<Meta of={Pagination} />

<Title of={Pagination.Default} />

<Description of={Pagination.Default} />

<Canvas of={Pagination.Default} />

<ArgTypes of={Pagination} />

<Title>Basic Usage</Title>

The Pagination component is designed to be stateless. It relies on an external state management mechanism to track the current page.  This approach ensures that the total number of pages (pageCount) is determined on the initial render, providing a consistent and predictable pagination experience

In the example above, the `anotherPageNumber` is the external state representing the `currentPage`. The `onPageChange` prop updates this state, and `pageCount` sets the total number of pages.

<Source language="tsx" code={`
const [page, setPage] = useState(yourIntialPageNumber || 1)

 // your custom hook that fetch the data
const { data, isInitialLoading } = usePlatformData({
  queryParams: {
    pageNumber: page,
  },
});

if (isInitialLoading || typeof data?.totalPage === 'undefined') return <Loader />
return <Pagination onPageChange={setPage} currentPage={page} pageCount={data.totalPages} />
`} />

<Subtitle>HTML Structure (Example)</Subtitle>

The following HTML  structure demonstrates a basic implementation of the `Pagination` component. You can adapt this to your specific requirements

<Source language="html" code={`
<nav aria-label="Pagination" class="el-pagination">
  <ul class="el-pagination-list">
    <li class="el-pagination-item">
      <button data-variant="tertiary" class="el-button-size-medium el-button-icon-only el-button" aria-label="Go to previous page" aria-disabled="true" role="button">
        <div class="el-button-spinner"></div>
        <span class="el-icon" />
      </button>
    </li>
    <li class="el-pagination-item">
      <span class="el-pagination-text">1 of 5</span>
    </li>
    <li class="el-pagination-item">
      <button data-variant="tertiary" class="el-button-size-medium el-button-icon-only el-button" aria-label="Go to next page" aria-disabled="false" role="button">
        <div class="el-button-spinner"></div>
        <span class="el-icon" />
      </button>
    </li>
  </ul>
</nav>
`}
/>
