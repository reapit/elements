import { Meta, Story, Canvas, Controls } from '@storybook/blocks'
import { Modal } from '../../components/modal/index'
import * as ModalStories from './modal.stories'

<Meta of={ModalStories} />

# Modal

The modal component renders a dialog box that overlays the main screen. It is typically used for displaying confirmation or error notifications to users that require an addtional call to action or step.

## `useModal` API

Exports the following properties as an object:

- `Modal`: `FC<Partial<ModalProps>>` - a React component that should be placed somewhere with the component that you want to use the modal. Will pass props to the underlying modal.
- `openModal`: `() => void` - a method that will open the Modal.
- `closeModal`: `() => void` - a method that will close the Modal. The Modal can also be closed by default from within the Modal, or by clicking on the background
- `modalIsOpen`: `boolean` - convenience boolean to check if the modal is open currently.

## Basic Usage

By default, the modal fills it's current container so you will likely wish to place it as high as possible up the DOM tree to achive an overlay effect.

## React usage - Complete example with `useModal` hook

The use modal hook exports both a modal component and state helpers for toggling the component open.

It also leverages our `Portal` component to render the modal at the top level of your app. The default container is `#root` so if you need your portal to render on another element, pass a different id to the `useModal` hook when you instantiate it - in the example below, we use `#portal-root`.

<Canvas of={ModalStories.BasicUsage} />

## Multiple `useModal` hooks

Props available for the React version of the component;

If using multiple modals within a component, ensure you rename the exports from `useModal` to avoid conflicts, e.g. `const { Modal: ModalA, openModal: openModalA } = useModal()`

<Canvas of={ModalStories.MultipleModals} />
